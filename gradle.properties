android.nonTransitiveRClass=false
android.useAndroidX=true

kotlin.code.style=official
kotlin.mpp.androidSourceSetLayoutVersion=2

# Build cache: avoids re-running expensive tasks (kapt, Compose compiler) across branches
org.gradle.caching=true
org.gradle.configureondemand=true
# Configuration cache: caches task graph to skip re-configuration on incremental builds
org.gradle.configuration-cache=true
# Gradle daemon heap: 2 GB sufficient for task orchestration across 14 modules.
# Kotlin daemon (2 GB) handles heavy compilation separately.
# Total JVM heap budget: ~4 GB, leaving ~8 GB for OS + IDE + d8/aapt2 on 16 GB machines.
org.gradle.jvmargs=-Xmx2g -XX:+UseG1GC -XX:MaxMetaspaceSize=512m -Dfile.encoding=UTF-8
org.gradle.parallel=true
org.gradle.vfs.watch=true
# Cap parallel workers to reduce concurrent memory pressure on 16 GB machines.
# Default (CPU count including hyperthreads) causes memory spikes with 14 modules.
org.gradle.workers.max=4

# Kotlin compiler optimizations
kotlin.incremental=true
kotlin.incremental.java=true
# Avoid full-module recompilation when only ABI-compatible changes occur on the classpath
kotlin.incremental.useClasspathSnapshot=true
kotlin.daemon.jvmargs=-Xmx2g
