[
  {
    "id": "api-exact-match-compatible",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 200,
    "hostVersionCode": 150,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "stable",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "stable",
    "expectedCompatibility": "COMPATIBLE",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  },
  {
    "id": "api-mismatch",
    "pluginApiVersion": 2,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 200,
    "hostVersionCode": 150,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "stable",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "stable",
    "expectedCompatibility": "API_MISMATCH",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  },
  {
    "id": "host-too-old",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 200,
    "hostVersionCode": 99,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "stable",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "stable",
    "expectedCompatibility": "HOST_TOO_OLD",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  },
  {
    "id": "host-too-new-positive-target",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 200,
    "hostVersionCode": 201,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "stable",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "stable",
    "expectedCompatibility": "HOST_TOO_NEW",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  },
  {
    "id": "null-target-means-unbounded",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": null,
    "hostVersionCode": 999,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "stable",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "stable",
    "expectedCompatibility": "COMPATIBLE",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  },
  {
    "id": "zero-target-treated-as-unbounded",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 0,
    "hostVersionCode": 999,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "stable",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "stable",
    "expectedCompatibility": "COMPATIBLE",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  },
  {
    "id": "negative-target-treated-as-unbounded",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": -1,
    "hostVersionCode": 999,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "stable",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "stable",
    "expectedCompatibility": "COMPATIBLE",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  },
  {
    "id": "stable-host-blocks-beta-plugin",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 300,
    "hostVersionCode": 200,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "beta",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "beta",
    "expectedCompatibility": "COMPATIBLE",
    "expectedPolicyAllowed": false,
    "expectedPolicyBlockReason": "WRONG_CHANNEL"
  },
  {
    "id": "beta-host-allows-stable-plugin",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 300,
    "hostVersionCode": 200,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "stable",
    "hostChannelRaw": "beta",
    "expectedNormalizedPluginChannel": "stable",
    "expectedCompatibility": "COMPATIBLE",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  },
  {
    "id": "beta-host-allows-beta-plugin",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 300,
    "hostVersionCode": 200,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "beta",
    "hostChannelRaw": "beta",
    "expectedNormalizedPluginChannel": "beta",
    "expectedCompatibility": "COMPATIBLE",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  },
  {
    "id": "version-block-precedes-channel-block",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 300,
    "hostVersionCode": 200,
    "pluginVersionCode": 10,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "beta",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "beta",
    "expectedCompatibility": "COMPATIBLE",
    "expectedPolicyAllowed": false,
    "expectedPolicyBlockReason": "PLUGIN_TOO_OLD"
  },
  {
    "id": "unknown-channel-coerces-to-stable-runtime",
    "pluginApiVersion": 1,
    "expectedPluginApiVersion": 1,
    "minHostVersion": 100,
    "targetHostVersion": 300,
    "hostVersionCode": 200,
    "pluginVersionCode": 150,
    "minPluginVersionCode": 100,
    "pluginChannelRaw": "nightly",
    "hostChannelRaw": "stable",
    "expectedNormalizedPluginChannel": "stable",
    "expectedCompatibility": "COMPATIBLE",
    "expectedPolicyAllowed": true,
    "expectedPolicyBlockReason": null
  }
]
